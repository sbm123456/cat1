import{defineComponent as w,ref as y,resolveComponent as s,openBlock as _,createBlock as c,Fragment as x,createVNode as o,withCtx as a,toDisplayString as f,unref as e,createCommentVNode as C,createTextVNode as F}from"../vue.js";import{config as n,user as l,send as h,sha256 as B}from"../client.js";const V=F("\u5E94\u7528\u66F4\u6539");var g=w({setup(E){const m=isSecureContext,t=y(n.value.password);async function r(){if(!t.value)return;const{id:i,token:u}=l.value;h("password",{id:i,token:u,password:await B(t.value)}),n.value.password=t.value}return(i,u)=>{const d=s("k-card"),v=s("k-input"),k=s("k-button");return _(),c(x,null,[o(d,{title:"\u57FA\u672C\u8D44\u6599"},{default:a(()=>[o("p",null,"\u7528\u6237\u540D\uFF1A"+f(e(l).name),1),o("p",null,"\u6743\u9650\u7B49\u7EA7\uFF1A"+f(e(l).authority),1)]),_:1}),e(m)?(_(),c(d,{key:0,title:"\u8BBE\u7F6E\u5BC6\u7801"},{default:a(()=>[o(v,{modelValue:t.value,"onUpdate:modelValue":u[1]||(u[1]=p=>t.value=p),onEnter:r,type:e(n).showPass?"text":"password",suffix:e(n).showPass?"eye":"eye-slash",onClickSuffix:u[2]||(u[2]=p=>e(n).showPass=!e(n).showPass)},null,8,["modelValue","type","suffix"]),o("p",null,[o(k,{type:"danger",solid:"",disabled:!t.value,onClick:r},{default:a(()=>[V]),_:1},8,["disabled"])])]),_:1})):C("v-if",!0)],64)}}}),P="";export default g;
